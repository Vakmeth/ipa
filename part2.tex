\part[Projektdokumentation]{Projektdokumentation
                  \begin{center}
                     \begin{minipage}[c]{10.7cm}
                      \small Hitobito: Neue Generation von Personen-Filtern \\
                      Autor: Marc Egli
                     \end{minipage}
                  \end{center}
                 }
\chapter{Einführung}

\chapter{Analyse}
In der Analyse der IPA wird der Rahmen geschaffen in welchem der Kandidat später während des Implementierens arbeitet. 
Sie befasst sich mit der Aufnahme von Ist- und Zielzustand des Produktes. Ausserdem werden darin Funktionale und nicht funktionale Anforderungen erfasst.
Es wird definiert wo sich die IPA abgrenzt. 

\section{Ist-Zustand}
Im folgenden Abschnitt wird erklärt wie die Filterung von Personen und Abonnementen im Hitobito zum
jetzigen Stand abläuft.

\subsection{Personen}
Die Personenfilterung bietet zwei Funktionen: Die Filterung selbst und die Speicherung eines Personenfilters.
Um auf die Personenfilter zugreifen zu können, muss als erstes auf eine Gruppenübersicht navigiert werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{group_overview.png}}
   \caption{Gruppenübersicht Hitobito}
\end{figure}

\newpage

Danach werden unter dem Reiter ``Personen'' alle Personen der ausgewählten Gruppe angezeigt.
\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{people_overview.png}}
   \caption{Personenübersicht Hitobito}
\end{figure}

Unter dem Dropdown ``Weitere Ansichten'' kann der User entweder einen bestehenden Personenfilter auf die angezeigte Personenliste anwenden 
oder einen neuen Personenfilter erstellen. Der neue Personenfilter kann unter der Option ``Neuer Filter...'' erstellt werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{filter_selection.png}}
   \caption{Filterauswahl Hitobito}
\end{figure}

\newpage

Nach dem Klick auf diese Option wird der Benutzer auf eine Filterübersicht weitergeleitet. Die Filterübersicht besteht aus Buttons für die Speicher und Suche, drei Radio-Buttons und fünf Dropdowns.

Die drei Radio-Buttons zu Beginn definieren auf welcher Ebene gesucht wird.
Jedes Dropdown bietet dem Benutzer die Möglichkeit Filterkriterien zu definieren. Die Art des Filterkriteriums ist durch
den Dropdownnamen gegeben.


\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{filter_overview.png}}
   \caption{Filterübersicht Hitobito}
\end{figure}

\newpage

Im Dropdown ``Rollen'' werden alle Rollen pro Ebene aufgelistet. Der Benutzer kann per Klick auf eine Checkbox
die Rollen auswählen, welche Personen durch die Filterung aufweisen müssen. Möchte der Benutzer alle Rollen einer Ebene auswählen,
kann er die mit einem Klick auf den Namen einer Ebene tun. In diesem Beispiel wäre das ein Klick auf ``Hauptebene''. Nach dem Klick auf den
Ebenennamen werden alle Checkboxen abgehakt. Somit wurden alle Rollen der angeklickten Eben ausgewählt.

Für die Rollen kann des weiteren ein Gültigkeits-Zeitraum definiert werden. Die Gültigkeit
wird vom Benutzer via Radio-Buttons ausgewählt. Zuletzt kann im ``Rollen'' Dropdown entschieden werden, ob 
archivierte Rollen bei der Filterung berücksichtigt werden. Das UI bietet dem Benutzer dafür eine weiter selbststehende
Checkbox.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{role_overview.png}}
   \caption{Filterkriterium Rollen}
\end{figure}

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{additional_role_options.png}}
   \caption{Filterkriterium Rollen - Zeitraum und Archivierung}
\end{figure}

\newpage

Im Dropdown ``Qualifikationen'' werden alle auswählbaren Qualifikationen angezeigt.
Der Benutzer wählt alle gewünschten Qualifikationen per Checkbox aus. Per Radio-Button entscheidet
der Benutzer danach, ob die Person alle oder mindestens eine der angeklickten Rollen aufweisen muss.

Abschliessen für die Qualifikationen kann die Gültigkeit per Radio-Buttons und ein Stichdatum
per Input-Feld definiert werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{qualification_overview.png}}
   \caption{Filterkriterium Qualifikationen}
\end{figure}

Beim Filterkriterium ``Felder'' handelt es sich um zusätzliche Personenattribute welche in
die Filterung miteinbezogen werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{field_overview.png}}
   \caption{Filterkriterium Felder}
\end{figure}

\newpage

Unter die Kategorie der ``Felder'' fallen folgende Personenattribute:

\begin{table}[h!]
   \begin{tabular}{|L{0.5\textwidth}|L{0.5\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Attribut & \color{white}Datentyp \\
       \hline
       Alter & Zahl \\
       \hline
       Firmenname & Text \\
       \hline
       Geburtstag & Zeit \\
       \hline
       Geschlecht & Text \\
       \hline
       Haupt-E-Mail & Text \\
       \hline
       Hausnummer & Zahl \\
       \hline
       Land & Text \\
       \hline
       Nachname & Text \\
       \hline
       Ort & Text \\
       \hline
       PLZ & Zahl \\
       \hline
       Postfach & Text \\
       \hline
       Strasse & Textwert \\
       \hline
       Vornamen & Textwert \\
       \hline
       Zusätzliche Adresszeile & Textwert \\
       \hline
       Übername & Textwert \\
       \hline
     \end{tabular}
     \caption{Felder-Attribute}
\end{table}

Die Attribute können über ein Dropdown ausgewählt werden. Wurde das Attribut ausgewählt kann zusätzlich die Genauigkeit
des Filterkriterums definiert werden.

Für Textwerte bieten sich folgende Genauigkeiten an:

\begin{itemize}
   \item ist genau
   \item enthält
   \item enthält nicht
\end{itemize}

Für Zahlenwerte bieten sich folgende Genauigkeiten an:

\begin{itemize}
   \item ist genau
   \item ist grösser als
   \item ist kleiner als
\end{itemize}

So kann der Benutzer bestimmen wie genau sein eingegebener Wert dem ausgewählten Attribut entsprechen soll.

\newpage

Das Filterkriterium ``Sprachen'' bietet die Möglichkeit aus den Optionen Deutsch, Englisch oder Französisch auszuwählen.
Es können auch mehrer Sprachen ausgewählt werden. Die Auswahl erfolgt über Checkboxen.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{language_overview.png}}
   \caption{Filterkriterium Sprache}
\end{figure}


Das Filterkriterium ``Tags'' macht es möglich Personen nach gegebenen Tags zu suchen. Über zwei 
Inputfelder kann definiert werden, welche Tags eine Person haben oder nicht haben muss. Die Input-Felder sind
Dropdowns welche dem Benutzer die Eingabe vervollständigen wenn dieser nach einem Tag sucht.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{tag_overview.png}}
   \caption{Filterkriterium Tags}
\end{figure}

\newpage

Wurden alle Filterkriterien vom Benutzer definiert kann dieser die Konfiguration des Personenfilters speichern. 
Dazu muss ein Name des Filters definiert werden. Will der Benutzer den Filter nicht speichern, kann der auf den Button ``Suchen'' klicken. Anschliessend
werden auf der Personenübersicht nur Personen angezeigt welche die Filterkriterien erfüllen. Wird der Filter nicht gespeichert, 
muss dieser erneut von Hand zusammengestellt werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{saving_filter.png}}
   \caption{Filterkriterium Tags}
\end{figure}

\newpage

\subsection{Abonnemente}
Die Abonnementenfilterung kann nicht im Hitobito wie die Personenfilterung angezeigt werden. Stattdessen
wird die Filterung bei einem Export von Abonnementen als CSV angewendet. So werden im resultierenden CSV nur Personen
angezeigt, welche den Filterkriterien entsprechen.

Die Abonnementenfilterung kann erneut über die Gruppenübersicht ausgemacht werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{group_overview.png}}
   \caption{Gruppenübersicht}
\end{figure}

Danach muss auf den Reiter ``Abos'' navigiert werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{subscription_overview.png}}
   \caption{Abonnementen Übersicht}
\end{figure}

Auf dieser Ansicht kann der Benutzer per Klick ein Abonnement auswählen.

\newpage

Daraufhin wird der Benutzer auf die Infoseite des Abonnements weitergeleitet. Um die Abonnementenfilterung
einzusehen muss nun auf den Reiter ``Abonnementen'' navigiert werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{single_subscription_overview.png}}
   \caption{Übersicht einzelnes Abonnement}
\end{figure}

Unter dieser Ansicht ist es dem Benutzer möglich diverse Filterkriterien für das Abonnement zu definieren.
Im Rahmen dieser IPA werden ausschliesslich die globalen Bedingungen überarbeitet, weswegen die anderen Filterkriterien
zu vernachlässigen sind. Die globalen Bedingungen können über das Bearbeitungssymbol angepasst werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{subscription_filter_overview.png}}
   \caption{Abonnementenübersicht}
\end{figure}

\newpage


In den globalen Bedingungen bieten sich zwei Filterkriterien: Felder und Sprache. Die Funktionsweise
ist dabei die gleiche, wie die der Personenfilter (weiter oben beschrieben).

Der Benutzer wählt die Filterkriterien aus und Speichert diese anschliessend. Die gespeicherten Bedingungen 
werden in der Textbox unter dem Titel ``Globale Bedingungen'' auf der Abonnementenübersicht angezeigt.
\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=1\textwidth,]{global_conditions_overview.png}}
   \caption{Globale Filterungsbedingungen für Abonnemente}
\end{figure}

\newpage

\section{Soll-Zustand}
In der Vorarbeit für diese IPA wurde vom Kandidaten ein Mockup erstellt. Das Produkt der IPA soll nach diesem Mockup umgesetzt werden.
Das angefertigte Mockup repräsentiert den Soll-Zustand und wird im folgenden Abschnitt erklärt.

\subsection{Anzeigemasken}
Zuerst werden die Anzeigemasken des Mockups vorgestellt. Dabei handelt es sich um Anzeigen, welche der Benutzer ausschliesslich lesen und nicht
bearbeiten kann.

\textbf{Filterübersicht}
Sobald der Benutzer auf ``Neuer Filter...'' in der Personenübersicht einer Gruppe klickt, soll er auf folgende Ansicht weitergeleitet werden:

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=0.8\textwidth,]{mockup_nofilter_overview.png}}
   \caption{Mockup Filterübersicht}
\end{figure}

Die Übersicht enthält die Radio-Buttons der alten Benutzerschnittstelle. Die massgäbliche Änderung zum Soll-Zustand betrifft den hinzufügen Button.
Dieser befindet agiert als Dropdown, sobald der Benutzer auf ihn klickt. Das Dropdown besitzt vier Filterungskriterien, nicht mehr die fünf wie sie momentan
im Hitobito anzutreffen sind. Sind noch keine Filterkriterien erfasst, wird dies dem Benutzer mit einem Text signalisiert.
Die Speicherungskomponente des Filters bleibt bestehen.

\textbf{Filterübersicht mit Tags und Felder}

Hat der Benutzer seine Filterkriterien definiert, werden diese in Boxen angezeigt.
Die definierte Filterkriterien verschwinden aus dem Dropdown unter dem Hinzufüge-Butto. Stattdessen können 
die definierten Filterkriterien über den Stif in der oberen, rechten Ecke einer Box bearbeitete werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=0.8\textwidth,]{mockup_two_filters.png}}
   \caption{Mockup mit Tags und Felder definiert}
\end{figure}

In dieser Ansicht hat der Benutzer das Filterkriterium ``Tags'' und ``Felder'' definiert. Diese Optionen verschwinden
somit aus dem Dropdown. Wurden zu jedem Filterkriterium Bedingungen erfasst, verschwindet der gesamte Hinzufüge-Button.

\newpage

\textbf{Filterübersicht mit Qualifikationen und Rollen}

Im folgenden Bild hat der Benutzer Tags, Rollen und Qualifikationen als Filterkriterien erfasst.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=0.8\textwidth,]{mockup_roles_qualifications.png}}
   \caption{Mockup mit Qualifikationen und Rollen definiert}
\end{figure}

\subsection{Bearbeitungsmasken}
Nachfolgend werden die Anzeigen vorgestellt, welche der Benutzer bearbeiten kann. Diese sind für den Benutzer zugänglich, indem er
ein Filterkriterium entweder per Hinzufüge-Button hinzufügt oder per Editier-Button (Stift in der oberen rechten Ecke der Box) bearbeitet.

\textbf{Felder}

Die Felder können im neuen Mockup durch ein Dropdown ausgewählt werden. Danach wird kann wie zuvor die Genauigkeit bestimmen werden.
Will der Benutzer ein weiteres Attribut zu seinen Suchbedingungen hinzufügen, kann er dies über den Hinzufüge-Butten in der rechten unteren Ecke. Auf dieser
Benutzerschnittstelle ist es möglich die Sprache als Attribut auszuwählen. Für die Sprache kann standardmässig keine Genauigkeit definiert werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=0.8\textwidth,]{mockup_attributes.png}}
   \caption{Bearbeitungsmaske Filterkriterium Felder}
\end{figure}

\newpage

\textbf{Rollen}

Die Rolle kann über die Gruppe oder den Rollennamen definiert werden. Wird unter dem Eingabefeld ``Gruppen'' eine Gruppe hinterlegt,
werden alle dazugehörigen Rollen dieser Gruppe in die Filterung miteinbezogen. Will der User nur einzelne Rollen
in die Filterung miteinbeziehen, kann er dies über das Rollen-Eingabefeld. Die Gültigkeit der Rolle wird kann über ein suchbares dropdown ausgewählt werden.
Das Element der Stichdatum bleibt bestehen. Die Checkbox für die archivierten Rollen wird im Mockup vernachlässigt und standardmässig werden alle Rollen,
sofern diese die Gültigkeitsbedingungen erfüllen, miteinbezogen.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=0.8\textwidth,]{mockup_roles.png}}
   \caption{Bearbeitungsmaske Filterkriterium Gruppe}
\end{figure}

\newpage

\textbf{Qualifikationen}

Die Qualifikationen können innerhalb der Bearbeitungsmaske ebenfalls mit einem suchbaren Dropdown 
ausgewählt werden. Die Radio-Buttons und das Stichdatum bestehen wie bisher. Die Gültigkeit kann wie bei den Rollen über 
ein suchbares Stichdatum ausgewählt werden.

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=0.8\textwidth,]{mockup_qualifications.png}}
   \caption{Bearbeitungsmaske Filterkriterium Qualifikationen}
\end{figure}

\textbf{Tags}

Die Definition der Tags bleibt bestehen wie in der Soll-Situation beschrieben

\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=0.8\textwidth,]{mockup_tags.png}}
   \caption{Bearbeitungsmaske Filterkriterium Tags}
\end{figure}

\newpage

\section{Fehlende Informationen}
Alle bekannten Informationen bei Beginn der IPA wurden in der Ist-Situation und der Soll-Situation beschrieben.
Als unbekannte Informationen gelten: Die Bedürfnisse des Benutzers, Sicherheitsrisiken, sowie die darauf resultierenden Produktanforderungen.
Die genannten Bereiche werden in den kommenden Abschniten aufgenommen und analysiert. Alle unbekannten Informationen welche einzelne 
Definitionen oder Abläufe betreffen wurden über das Internet oder KI recherchiert und anschliessend im Anhang unter dem Datum der Verwendung hinterlegt.

\newpage

\section{Bedürfniserhebung}
Um die Bedürfnisse der Kunden vor der Entwicklung zu identifizieren wird eine Bedürfniserhebung durchgeführt. 
Angewendete Modelle, Befragungstechniken und Erhebungen werden im folgenden Abschnitt dokumentiert. Es wird zuerst die Zielsetzung und Planung definiert,
danach die Methode der Erhebung ausgewählt, die Erhebung durchgeführt und zuletzt alle Daten und identifizierten Bedürfnisse analyisert.

\subsection{Zielsetzung und Planung}
Mit dieser Bedürfnisserhebung sollen Anforderungen an das Produkt auf Kundenseite ausgemacht werden. Aus zeitlichen Gründen
werden die Anforderung einer Person an das Produkt analysiert. Bei der Person handelt es sich um Thomas Ellenberg, dem Projektleiter von Hitobito.
Für die Bedürfniserhebung wurden vier Stunden geplant. Zwei Stunden werden für die Vorbereitung verwendet, eine Stunde für die Durchführung und
eine Stunde für die Auswertung der Erhebung. 

Beteiligt an der Bedürfniserhebung sind Marc Egli und Thomas Ellenberg. Marc Egli ist für die
Durchführung der Erhebung zuständig. Da die Bedürfniserhebung im Rahmen der IPA durchgeführt wird, wird mit keinem Budget geplant.

\subsection{Methodenwahl}

Es stehen vier Methoden zur Bedürfniserhebung zur Verfügung:

\begin{itemize}
   \item Umfragen
   \item Interviews und Fokusgruppen
   \item Beobachtungen
   \item Dokumentenanalyse
\end{itemize}

\newpage

In dieser Arbeit wurde als Methode das Interview gewählt. Die Begründung resultiert aus folgendem Ausschlussverfahren:

\begin{table}[h!]
   \begin{tabular}{|L{0.2\textwidth}|L{0.5\textwidth}|L{0.2\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Methode & \color{white} Gedankengänge & \color{white} Verwendung \\
       \hline
       Umfragen & Hiefür wird eine grosse Benutzergruppe benötigt um ein aussagekräftiges Resultat daraus zu ziehen. 
       Für die Organisation einer solchen Benutzergruppe besteht keine Zeit. & Nein \\
       \hline
       Interviews und Fokusgruppen & Durch ein Interview können mehr Informationen gewonnen werden als einer Umfrage.
       Bspw. Beobachtungen der Gefühle des Benutzers oder Gedankengänge können aufgenommen werden. Um dennoch den Zeitrahmen der IPA
       nicht zu verletzen, müsste das Inteview mit nur einer Person durchgeführt werden. & Ja \\
       \hline
       Beobachtungen & Um Bedürfnisse mit einer Beobachtung durchzuführen, muss zuerst ein Testskript geschrieben werden.
       In einem Testskript muss jeder Schritt und die daraus folgenden Aufgabe klar definiert sein. Dies gelöscht
       mit einem hohen Zeitaufwand für die Verfassung des Testskripts einher. & Nein \\
       \hline
       Dokumentenanalyse & Die Dokumentenanalyse kann mit dem Benutzerhandbuch von Hitobito durchgeführt werden.
      Die daraus entstehenden Bedürfnisse würden aber vom Analyst selbst kommen, nicht direkt vom Benutzer. & Nein \\
     \hline
     \end{tabular}
     \caption{Methodenwahl}
\end{table}

\newpage

\subsection{Fragenkatalog}
Die Fragen im Interview basieren auf dieser \href{https://kreativ.mfg.de/digitale-kultur/kompass-digitale-kultur/prozess/nutzerinnen-gruppe/bedarfsanalyse-interviews/}{Anleitung}.
Während des Interviews werden die nachkommenden Fragen gestellt:

\textbf{Offene Einleitungsfragen}
\begin{itemize}
   \item Frage 1: Was bist du für eine Person? Beschreibe dich kurz
   \item Frage 2: Was ist dir wichtig im Leben?
   \item Frage 3: Welchen Karriereweg hast du hinter dir? 
   \item Frage 4: Wie kamst du das erste Mal in Kontakt mit Hitobito?
\end{itemize}

\textbf{Fragen zu Hitobtio allgemein}
\begin{itemize}
   \item Frage 5: Was fasziniert dich an Hitobito?
   \item Frage 6: Welche Teile der Applikation stören dich selbst?
\end{itemize}

\textbf{Fragen zur Hitobito Filterung}
\begin{itemize}
   \item Frage 7: Welche Erfahrungen hast du mit der Filterung von Personen und Abonnemente in Hitobito gemacht?
   \item Frage 8: Was stört dich an dieser Filterung?
   \item Frage 9: Was würdest du an dieser ändern Filterung?
   \item Frage 10: Welche zusätzlichen Funktionen wünschst du dir für diese Filterung?
   \item Frage 11: Wie würdest du alle Mängel und zusätzlichen Features auf priorisieren?
   \item Frage 12: Welchen Dringlichkeit hat eine Überarbeitung der Filterung für dich?
   \item Frage 13: Welche Kosten wärst du maximal bereit zu zahlen?
\end{itemize}

\newpage

\subsection{Ablaufsprotokoll}
\begin{table}[h!]
   \begin{tabular}{|L{0.2\textwidth}|L{0.4\textwidth}|L{0.3\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Tätigkeit & \color{white} Antwort der Testperson & \color{white} Mimik und Gestik \\
       \hline
       Begrüssung der Testperson & Danke vielmals für die Einladung. & Testperson scheint positiv eingestimmt zu sein, ein bisschen nervös. \\
       \hline
       Erklärung des Ablaufs & Perfekt, ja das stimmt so für mich. & Testperson richtet Blick aufmerksam auf den Befrager. \\
       \hline
       Frage 1 & Ich bin Product Owner von Hitobito teilweise. Eigentlich ist Oliver Dietschi der Product Owner, aber ich höre von vielen Kunden was ihre Bedürfnisse sind. & Testperson Lächelt leicht. \\
       \hline
       Frage 2 & Im Moment ist mir Nachhaltigkeit unheimlich wichtig. Bei allen Bereichen, Beziehungen und Freundschaften. Auch was ich kaufe und wie ich leben. & Testperson wird ernster. Stimme senkt sich. \\
       \hline
       Frage 3 & Ich habe ursprünglich das KV beim Inter Discount gemacht. Im Detailhandel. Danach habe ich bei der Swisscom gearbeiten und später gemerkt, dass das wohl doch nichts für mich ist. Danach habe ich ein
       Wirtschaftsstudium an der BFH gemacht. Dort habe ich gemerkt das mir Projektmanagement sehr zusagt. Anschliessend habe ich im Bereich Ausbildung und in der Stahlindustrie gearbeitet, dort als Projektmanager.
       Schlussendlich bin ich in der IT gelandet. & Testperson ist ernster zu Beginn der Antwort, lächelt beim Übergang zu der IT.   \\
       \hline
     \end{tabular}
     \caption{Ablaufsprotokoll Teil 1}
\end{table}

\newpage

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.4\textwidth}|L{0.2\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Tätigkeit & \color{white} Antwort der Testperson & \color{white} Mimik und Gestik \\
       \hline
       Frage 4 & Ich war selber ein sehr engagierter Pfadiler. Ich wusste noch gar nicht wie Hitobito funktioniert. Ein Kollege von mir, Tobi Hinderling, hatte
       dann von einer Firma namens Puzzle ITC gehört welche Hitobito betreibt. Er sagt sie sein super cool organisiert und er wolle unbedingt dort arbeiten. Das machte er
       dann auch und hatte das Projektmanagement bei Hitobito inne. Tobias und ich, wir waren immer wieder am Aareböttle zusammen und da hat er mir gesagt ich soll doch auch zu Puzzle kommen,
       denn ihn würde mer das UX als das Projektmanagement interessiern. Wir könnten dann intern die Rollen wechseln und genau so ist es geschehen. & Testperson Lacht bei der Anektote zu Tobias Hinderling. \\
       \hline
       Frage 5 & Die Kunden faszinieren mich an Hitobito. Wir haben eine sehr breite Kundenpalette. Wir streben auch eine langfristige Kunden an und nehmen nicht jeden.
       Wir haben sehr viele Non-Profit Gruppen und generell auch sehr angenehme Kunden. & Denkt kurz nach, ist ernster bei der Antwort. \\
       \hline
       Frage 6 & Das war sehr lange her. Keine Ahnung. Zu lange her. & Schüttelt Kopf. \\
       \hline
       Frage 7 & Ich habe die Filterung auch schon verwendet aber meist im Umfang von Tests und Abnahme der Akzeptanzkriterien von Tickets. & Testperson nickt als Bestätigung. \\
     \hline
     \end{tabular}
     \caption{Ablaufsprotokoll Teil 2}
\end{table}

\newpage

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.4\textwidth}|L{0.2\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Tätigkeit & \color{white} Antwort der Testperson & \color{white} Mimik und Gestik \\
       \hline
       Frage 8 & Was mich am meisten stört ist das UI. Alles ist ein bisschen verzettelt. Du weist nicht genau wo du suchen musst. Niemand weiss genau
       was man suchen kann. Die Filter können unheimlich viel, aber du musst ein bisschen suchen. & Gestikuliert in Richtung Laptop, Stimme wird lauter. \\
       \hline
       Frage 9 & Ich würde versuchen, alles zu vereinheitlichen. Evtl. z.B. die Felder und Sprache zusammennehmen. Auch die Rollen
       haben eine coole Funktion bei der Anwahl der Hauptebene. Aber diese Funktion kennt einfach niemand. Das müsste irgendwo genauer erklärt werden.
       Funktional ist enorm viel drin. Aber sie hegen einen gewissen Pain. & Testperson wird ruhiger, überlegt, Stimme wird leiser. \\
       \hline
       Frage 10 & Gute Frage. Nein ich glaube nicht, für mich hat die Filterung alles was sie bringt. Aber fairerweise brauche ich die Filterung
       ein bisschen zu wenig. & Testperson überlegt, Kopf seitlich angelegt, Stimme wird leiser. \\
     \hline
     \end{tabular}
     \caption{Ablaufsprotokoll Teil 3}
\end{table}

\newpage

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.4\textwidth}|L{0.2\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Tätigkeit & \color{white} Antwort der Testperson & \color{white} Mimik und Gestik \\
       \hline
       Frage 11 & Als erstes das Sprachen Dropdown aus der Landschaft entfernen und unter Felder anordnen. Der nervt mich tatsächlich sehr. So, wieso haben wir für jedes
       Attribut ein Dropdown in den Feldern aber für die Sprachen hängt es hier einfach so herum? Ansonsten finden
       ich alles andere OK. Geschlecht ist etwas anderes was mich stört. Dort muss du wenn du ein Mann bist ``m'' eingeben und wenn du eine Frau bist ``w''. 
       Auch ``w''' wenn du die Sprache auf Französisch eingestellt hast. Und weist du was? Wenn du kein Geschlecht hast musst du das Feld leer lassen, dass weiss einfach
       niemand. & Testperson regt sich auf, Gestikuliert in Richtung Hitobito Filterung auf Laptop. \\
       \hline
       Frage 12 & Da kommt bei mir der Ökonom durch. Alles ist nice to have. Wir haben in Hitobito im Moment noch andere Bausteine, welche ich noch dringender priorisier. Die Filterung
       ist unschön und nicht toll, aber sie funktioniert. Das ist das Wichtigste. Da gibt es andere Sachen, Code welcher älter ist oder aktiv zu Bugs führt. Da sehe ich momentan mehr Probleme. 
       & Stimme der Testperson wird ruhiger und überlegter. \\
     \hline
     \end{tabular}
     \caption{Ablaufsprotokoll Teil 4}
\end{table}

\newpage

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.4\textwidth}|L{0.2\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Tätigkeit & \color{white} Antwort der Testperson & \color{white} Mimik und Gestik \\
       \hline
       Frage 13 & Das ist eine Scheissfrage. Jeder Kunde sagt, dass er ein festes Budget habe und will nicht mehr ausgeben. Jeder Kunde würde vermutlich nichts zahlen, da
       aus seiner Sicht das Feature funktionieren müsste. Da es ein OpenSource Projekt ist, ist die Finanzierung eh noch schwieriger geregelt. Wir sagen wir sind OpenSource und
       entwickeln das Produkt dann einfach im Auftrag von Kunden weiter.
         & Testperson lacht zu Beginn seiner Antwort. Lachen mündet in Lächeln und verschindet gegen Ende der Antwort. Person gestikuliert mittelmässig. \\
       \hline
       Verabschiedung & Vielen Dank dir. Wenn du Fragen oder noch weiteres wissen musst kannst du gerne nochmals zu mir kommen. & Testperson lächelt und verabschiedet sich mit einer kurzem Wink. \\
     \hline
     \end{tabular}
     \caption{Ablaufsprotokoll Teil 5}
\end{table}

\newpage

\subsection{Auswertung}
Im kommenden Abschnitt werden die wichtigsten Bedürfnisse aufgelistet. Die Bedürfnisse werden
nach Dringlichkeit und Relevanz priorisiert. Die Datengrundlage dafür bietet das hinterlegte Ablaufprotokoll.

Die Dringlichkeit wird mit den Stufen D1-D3 definiert. Die Stufen sind folgendermassen zu beurteilen:
\begin{table}[h!]
   \begin{tabular}{|L{0.2\textwidth}|L{0.7\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Stufe & \color{white} Beschreibung \\
       \hline
       D1 & Höchste Dringlichkeit. Bedürfnis muss in den nächsten Wochen umgesetzt werden. Nicht Erfüllung führt zu hohen Nutzerverlust. \\
      \hline
       D2 & Mittlere Dringlichkeit. Bedürfnis muss in den nächsten Monaten umgesetzt werden. Nicht Erfüllung führt zu überschauberem Nutzerverlust. \\
      \hline
       D3 & Niedrige Dringlichkeit. Bedürfnis muss im nächsten Jahr umgesetzt werden. Nicht Erfüllung führ zu keinem Nutzerverlust. \\
     \hline
     \end{tabular}
     \caption{Dringlichkeitsstufen}
\end{table}

\newpage

Die Reihenfolge der Bedürfnisse in der Tabelle entspricht ihrer Priorisierung
\begin{table}[h!]
   \begin{tabular}{|L{0.2\textwidth}|L{0.3\textwidth}|L{0.1\textwidth}|L{0.3\textwidth}|}
       \hline
       \rowcolor{puzzleblue}\color{white}Bedürfnis & \color{white} Störfaktor & \color{white} Dringlichkeit & \color{white} Begründung \\
       \hline
       \label{bed1} Modularer Aufbau & Das Filterungs UI ist unübersichtlich und der Benutzer kann nicht verstehen, welche Optionen zur Filterung zur Verfügung 
       stehen. Die Filterung soll einem modularen Aufbau folgen, welcher den User durch die Filterung führt. & D1 & Durch den unübersichtliche Aufbau der Filterung und die Reaktion der Testperson wird diesem Bedürfnis die höchste Priorität zugeschrieben. \\
       \hline
       \label{bed2} Filterkriterium ``Sprache'' & Das Filterkriterium ``Sprache'' soll mit dem Filterkriterium ``Felder'' vereinheitlicht werden & D2 & Testperson hat das Bedürfnis zur Vereinheitlichung der Filterkriterien
       während des Inteviews mehrmals wiederholt, weswegen dieses Bedürfnis die zweithöchste Priorität einnimmt.  \\
       \hline
       Option ``Geschlecht'' & Die Option ``Geschlecht'' soll via Dropdown anzupassen sein. Die 
       Optionen sollen sich anhand der ausgewählten Sprache in Hitobito anpassen. & D3 & Während des Interviews wurde dieser Punkt nur nebenbei erwähnt, weswegen dieses Bedürfnis als letztes aufgeführt wird.\\
     \hline
     \end{tabular}
     \caption{Bedürfnisse der befragten Person}
\end{table}

\textbf{Fazit}

Betroffen von den Anpassungen anhand der Bedürfnissen sind die Benutzerschnittstellen zur Personenfilterung und zur Anpassung 
der globalen Bedingung in den Abonnementen. Somit muss das Filterungsystem wie es bis jetzt in der Applikation besteht, 
überarbeitet und durch das hinterlegte Mockup ersetzt werden. Da die Bedürfniserhebung erst während der IPA stattgefunden hat und das 
Mockup als Vorarbeit erledigt wurde, werden für die weitere Arbeit ausschliesslich das Bedürfnis ``Modularer Aufbau'' und 
``Filterkriterium Sprache'' in die Anforderungen aufgenommen.

\input{risikoanalyse.tex}

\section{Anforderungen}
Alle Anforderungen an das Produkt werden im folgenden Abschnitt beschrieben. Die Priorisierung ist durch die Reihenfolge der 
Anforderungen gegeben. Somit erhält die erste Anforderung die höchste Priorität. Nicht funktionale und funktionale Anforderungen
werden als gleichwertig bewertet. Somit erhält die erste nicht funktionale Anforderung die gleiche Priorität wie die erste funktionale Anforderung.

\subsection{Nicht funktionale Anforderungen}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Nicht funktionale Anforderung 1}} \\[4pt]
       \hline
       Beschreibung & Die Eingabefelder der Filter Benutzerschnittstelle unterbindet XSS Angriffe, gemäss \hyperref[sec3]{\color{blue}Sicherheitsrisiko 3} und \hyperref[sec4]{\color{blue}Sicherheitsrisiko 4}  \\
       \hline
       Messbarkeit & Benutzer können keine Bash, SQL oder sonstige Injections in das Eingabefeld einfügen.  \\
       \hline
     \end{tabular}
     \caption{Nicht funktionale Anforderung 1}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Nicht funktionale Anforderung 2}} \\[4pt]
       \hline
       Beschreibung & Es werden im Rahmen der Implementation nur Libraries ohne nachweisbare Schwachstelle verwendet. Basiert auf \hyperref[sec5]{\color{blue}Sicherheitsrisiko 5}  \\
       \hline
       Messbarkeit & Es werden keine Schwachstellen bei den verwendeten Libraries gefunden.    \\
       \hline
     \end{tabular}
     \caption{Nicht funktionale Anforderung 2}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Nicht funktionale Anforderung 3}} \\[4pt]
       \hline
       Beschreibung & Filterung soll ausschliesslich verfizierte Daten, basiert auf \color{blue}\hyperref[sec1]{\color{blue} Sicherheitsrisiko 1}\color{black}  \\
       \hline
       Messbarkeit & Benutzer können keine Daten einsehen, auf welche sie keine Berechtigungen haben.  \\
       \hline
     \end{tabular}
     \caption{Nicht funktionale Anforderung 3}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Nicht funktionale Anforderung 4}} \\[4pt]
       \hline
       Beschreibung & Speicherung von Filtern sind nur auf dem Benutzer zugänglichen Ebenen möglich. Basiert auf \color{blue}\hyperref[sec2]{\color{blue} Sicherheitsrisiko 2}\color{black}  \\
       \hline
       Messbarkeit & Filter welche vom Benutzer gespeichert werden, sind ausschliesslich auf seiner Ebene zugänglich.  \\
       \hline
     \end{tabular}
     \caption{Nicht funktionale Anforderung 4}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Nicht funktionale Anforderung 5}} \\[4pt]
       \hline
       Beschreibung & Die gewählte Implementation der Überarbeit der Benutzerschnittstelle berücksichtigt, dass zukünftig
       weitere Filterkriterien dazu kommen können. \\
       \hline
       Messbarkeit & Es wird eine generische Methode zur Implementation gewählt, so dass zukünftige Filterkriterien nach dem 
       vorgegebenen Muster implementiert werden können.  \\
       \hline
     \end{tabular}
     \caption{Nicht funktionale Anforderung 5}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Nicht funktionale Anforderung 6}} \\[4pt]
       \hline
       Beschreibung & Die Benutzerschnittstelle ist visuell ansprechend implementiert und folgt einem modularem Aufbau. Gemäss \hyperref[bed1]{Bedürfnis} aus Bedürfniserhebung \\
       \hline
       Messbarkeit & Es ist dem Benutzer möglich durch die hinterlegte Instruktion das Produkt zweckmässig zu verwenden.  \\
       \hline
     \end{tabular}
     \caption{Nicht funktionale Anforderung 6}
\end{table}

\newpage

\subsection{Funktionale Anforderungen}
\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Funktionale Anforderung 1}} \\[4pt]
       \hline
       Beschreibung & Die Filterung bietet mit der neuen Implementation die gleiche Grundfunktionalität wie bisher. \\
       \hline
       Messbarkeit & Alle Funktionen welche in der Ist-Situation dokumentiert wurden, sind nach der Implementation immer noch vorhanden. \\
       \hline
       Testart & Manuell und Automatisiert \\
       \hline
     \end{tabular}
     \caption{Funktionale Anforderung 1}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Funktionale Anforderung 2}} \\[4pt]
       \hline
       Beschreibung & Neue Filterkriterien können mit dem Hinzufüge-Button hinzugefügt werden. \\
       \hline
       Messbarkeit & Die beschriebene Funktion kann in der Benutzerschnittstelle ausgeführt werden. \\
       \hline
       Testart & Manuell und Automatisiert \\
       \hline
     \end{tabular}
     \caption{Funktionale Anforderung 2}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Funktionale Anforderung 3}} \\[4pt]
       \hline
       Beschreibung & Die Bedingungen der Filterkriterien können über den Bearbeiten-Button editiert werden.  \\
       \hline
       Messbarkeit & Die beschriebene Funktion kann in der Benutzerschnittstelle ausgeführt werden. \\
       \hline
       Testart & Manuell und Automatisiert \\
       \hline
     \end{tabular}
     \caption{Funktionale Anforderung 3}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Funktionale Anforderung 4}} \\[4pt]
       \hline
       Beschreibung & Neue Filterkriterien werden in Boxen anstatt von Dropdowns angezeigt. \\
       \hline
       Messbarkeit & Die beschriebene Funktion ist in der Benutzerschnittstelle ersichtlich. \\
       \hline
       Testart & Manuell und Automatisiert \\
       \hline
     \end{tabular}
     \caption{Funktionale Anforderung 4}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Funktionale Anforderung 5}} \\[4pt]
       \hline
       Beschreibung & Das Filterkriterium ``Sprache'' wurde im Filterkriterium ``Felder'' untergebracht. Gemäss \hyperref[bed2]{\color{blue}Bedürfnis 2} aus Bedürfnisserhebung \\
       \hline
       Messbarkeit & Es besteht kein eigenes Filterkriterium ``Sprache'' mehr im Dropdown. \\
       \hline
       Testart & Manuell und Automatisiert \\
       \hline
     \end{tabular}
     \caption{Funktionale Anforderung 5}
\end{table}

\section{Abgrenzung}
Das Ziel dieser Arbeit ist es, eine komplette Überarbeitung der Benutzerschnittstelle von Personen- und Abonnementenfilter im Hitobito einzubauen.
Sämtliches Testing wird nur für die neue Benutzerschnittstelle gemacht, kaputte oder alte Tests werden deaktiviert und
kommentiert, sofern diese nichts mit der Implementation des Produktes zu tun haben. Diese Arbeit beschränkt sich auf die Überarbeitung der Benutzerschnittstelle des Personenfilters
und der Benutzerschnittstelle der globalen Bedingungen von Abonnementen. Andere Benutzerschnittstelle welche mit der Filterung verbunden sind,
werden erst nach der IPA überarbeitet.

Während dieser IPA wird die Funktionalität nur mit dem hitobito und hitobito\_generic Wagon garantiert. Alle anderen Wagons 
werden erst nach der IPA überprüft und ergänzt.

\section{Persönliche Vorgehensziele}

\chapter{Entwurf}
\section{Anwendungskonzept}
Im folgenden Abschnitt werden die Anwendungsfälle des Benutzers dokumentiert.

\subsection{Anwendungsdiagram}
\begin{figure}[h]
   \centering
   \fbox{\includegraphics[width=0.6\textwidth,]{hitobito_use_case_diagram.png}}
   \caption{Anwendungsdiagram}
\end{figure}

\newpage

\subsection{Anwendungsfälle}
Aus dem Anwendungsdiagram werden die 4 Use-Cases entnommen und hier im Detail beschrieben. Vier Use-Cases, da die Anzeige,
die Bearbeitung und die Speicherung sowohl bei den Personenfiltern wie auch bei den Abonnementenfiltern über die gleiche Benutzerschnittstelle
läuft.

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
       \hline
       \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Filter speichern}} \\[4pt]
       \hline
       Kurzbeschreibung & Der Benutzer kann die ausgewählten Filterkriterien speichern. \\
       \hline
       Vorbedingungen & 
       \begin{itemize}
         \item Der Benutzer besitzt die nötigen Rechte um eine Filter zu erstellen
         \item Mind. ein Filterkriterium wurde ausgewählt
       \end{itemize} \\
       \hline
       Ablauf & \begin{enumerate}
         \item Benutzer benennt den Filter, optional und nur bei der Filterung von Personen
         \item Benutzer klickt auf Speichern
       \end{enumerate}  \\
       \hline
       Resultat & Der Filter wurde in der Datenbank persistiert und ein Success-Alert wird ausgegeben. \\
       \hline
   \end{tabular}
   \caption{Anwendungsfall: Filter speichern}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
      \hline
      \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Filterkriterien anzeigen}} \\[4pt]
      \hline
      Kurzbeschreibung & Der Benutzer kann die Filterkriterien der gespeicherten Filter einsehen. \\
      \hline
      Vorbedingungen & 
      \begin{itemize}
         \item Der Benutzer hat einen Filter gespeichert
      \end{itemize}  \\
      \hline
      Ablauf & \begin{enumerate}
      \item Navigiert zum Filter
      \end{enumerate}  \\
      \hline
      Resultat & Die Filterkriterien werden dem Benutzer angezeigt. \\
      \hline
   \end{tabular}
   \caption{Anwendungsfall: Filterkriterien anzeigen}
\end{table}

\newpage

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
      \hline
      \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Filterkriterien bearbeiten}} \\[4pt]
      \hline
      Kurzbeschreibung & Der Benutzer kann die Filterkriterien die Filterkriterien bearbeiten. \\
      \hline
      Vorbedingungen & 
      \begin{itemize}
         \item Der Benutzer hat einen Filter gespeichert
      \end{itemize}  \\
      \hline
      Ablauf & \begin{enumerate}
      \item Der Benutzer klickt auf den Bearbeiten-Button
      \end{enumerate}  \\
      \hline
      Resultat & Die Filterkriterien werden dem Benutzer angezeigt. \\
      \hline
   \end{tabular}
   \caption{Anwendungsfall: Filterkriterien bearbeiten}
\end{table}

\begin{table}[h!]
   \begin{tabular}{|L{0.3\textwidth}|L{0.6\textwidth}|}
      \hline
      \rowcolor{puzzleblue} \multicolumn{2}{|l|}{\color{white}\textbf{Personen filtern}} \\[4pt]
      \hline
      Kurzbeschreibung & Der Benutzer kann die definierten Personenfilter auf eine Liste von Personen 
      anwenden. \\
      \hline
      Vorbedingungen & \begin{itemize}
         \item Benutzer besitzt Rechte um auf eine Personenliste zuzugreifen
         \item Benutzer hat einen Personenfilter für diese Liste gespeichert
         \end{itemize}  \\
      \hline
      Ablauf & \begin{enumerate}
      \item Benutzer Navigiert zum Personenfilter
      \item Benutzer klickt auf den Filternamen
      \end{enumerate}  \\
      \hline
      Resultat & Die Personen in der Personenliste werden gefiltert und dem Benutzer angezeigt. \\
      \hline
   \end{tabular}
   \caption{Anwendungsfall: Personen filtern}
\end{table}

\newpage

\section{Systemkonzept}
Bei dieser Arbeit wird mit einem bestehenden System gearbeitet, dieses muss entsprechend angepasst werden. 
Um die nötigen Anpassungen besser sichtbar zu machen, werden im folgenden Abschnitt die Betroffenen Services identifiziert.
Anschliessen werden mögliche Lösungsvarianten konzeptioniert. Aus den Lösungsvarianten wird per Variantenentscheid eine Lösungsvariante ausgearbeitet.

\begin{figure}[h]
   \centering
   \includegraphics[width=1\textwidth,]{hitobito_systemarchitektur.drawio.png}
   \caption{Services}
\end{figure}

\subsection{Betroffene Services}
Hitobito wird in zwei Services unterteilt, der Rails Applikation und der Postgres Datenbank.

\textbf{Rails Applikation / Webserver}

Die Rails Applikation verwaltet die Geschäftslogik von Hitobito. Die Erweiterugnen dieser Arbeit
werden alle in diesem Service vorgenommen. Je nach Kunde werden hier Codeteile aus den anderen Wagons verwendet.
In dieser Arbeit wird ausschliesslich der Core und der Generic Wagon angepasst.

\textbf{Postgres Datenbank}

Die Datenbank von Hitobito läuft auf PostgreSQL. Sämtliche Abfragen auf die PostgreSQL Datenbank werden via SQL-Queries
gemacht. Als ORM (Object Relational Mapping) wird Active Record verwendet.

\newpage

\subsection{Lösungsvarianten}

\textbf{Lösungsvariante 1}

Die Idee des nachfolgenden Konzeptes ist die Aufteilung des Mockups in Elemente, welche später durch 
Turbo angesteuert werden können. Hierbei sollen nur Turbo-Streams verwendet werden. Diese ermöglichen uns Element nur mit der ID 
eines Divs, zu diesem Div hinzuzufügen.  

\begin{figure}[h]
   \centering
   \includegraphics[width=1\textwidth,]{variant_one_turbo.png}
   \caption{Lösungsvariante 1: Turbo-Konzept}
\end{figure}

So werden keine Turboframes benötigt und es müssen lediglich nur noch die Endpoints angepasst werden.

\newpage

Das daraus resultierende Klassendiagramm sieht so aus:

\begin{figure}[h]
   \centering
   \includegraphics[width=1\textwidth,]{variant_one_class_structure.png}
   \caption{Lösungsvariante 1: Klassendiagramm}
\end{figure}

Rot markierte Felder stehen dabei für Funktionen, welche entfernt werden. Grün steht für Funktionen, welche hinzugefüt werden.
Gelb steht für Funktionen oder Dateien, welche bearbeitet werden müssen.

Im \texttt{PeopleFilterController} wie im \texttt{FilterController} werden zusätzliche Endpoints angelegt
welche die jeweilgen Partials als Turbostream zurückgeben. Mit den Turbo Streams werden die Partials einem texttt{div} angehängt oder
von diesem entfernt. Da die Filterkriterien mittels der Turbostream angezeigt werden, wird der Endpoint ``new'' im \texttt{PeopleFilterController}
nicht mehr benötig. Die View \texttt{\_filter.html.haml} muss so geändert werden, dass sie alle Boxen welche durch die Filterungskriterien
auf der Benutzerschnittstelle darstellen, in ein \texttt{Div} verpackt. Dieses \texttt{Div} kann später in den 
Turbostreams referenziert werden.

\newpage

\textbf{Lösungsvariante 2}

In der zweiten Lösungsvariante wird mit Turboframes statt der Turbostreams gearbeitet. Für jedes Partial besteht zu Beginn ein
Turboframe. Wird im Dropdown auf eines der Filterkriterien geklickt, der Inhalt des Turboframes mit dem Formular für das jeweilige 
Filterkriterium befüllt.

\begin{figure}[h]
   \centering
   \includegraphics[width=1\textwidth,]{variant_two_turbo_concept.png}
   \caption{Lösungsvariante 2: Turbo-Konzept}
\end{figure}

Die Option im Dropdown wird durch einen Stimulus Controller entfernt. So muss kein zusätzliches 
Turboframe für das Dropdown angelegt werden. 

\newpage

Eine Umsetzung dieses Turbo-Konzeptes führt zu folgendem Klassendiagramm.

\begin{figure}[h]
   \centering
   \includegraphics[width=1\textwidth,]{variant_two_class_structure.png}
   \caption{Lösungsvariante 2: Klassendiagramm}
\end{figure}

Massgebend ist der Unterschied, dass hier keine Turbostreams benötigt werden. Es wird nach wie vor für jedes Filterkriterium ein
ein Endpoint erstellt. Diese liefern allerdings die bereits bestehenden Partials zurück. An den Partials selbst muss ein Turboframe eingebaut werden.
So wird jedes Form eines Filterkriteriums von einem Turboframe umschlossen. Als zusätzliche Klasse entsteht in dieser Variante der \texttt{FilterDropdownController}.
Die Aufgabe dieses Controllers ist es, die Filterkriterien bei der Auswahl aus dem Dropdown zu entfernen. Wurden alle Filterkriterien ausgewählt blendet der Controller das
Dropdown komplett aus. 

\newpage

\subsection{Variantenentscheid}
Um eine geeignete Entscheidung für eine der beschriebenen Lösungsvarianten zu treffen, wird eine Bewertungsmatrix verwendet. Die Bewertungsmatrix
bewertet die Lösungsvarianten nach definierten Kriterien. Die Kriterien können mit Punkten von 1 bis 10 bewertet werden, wobei 1 Punkt für das Nicht-Erfüllen
eines Kriteriums und 10 für das Erfüllen des Kriteriums steht. 

Folgende Kriterien wurden definiert:

\begin{table}[h!]
   \begin{tabular}{|L{0.2\textwidth}|L{0.3\textwidth}|L{0.2\textwidth}|L{0.2\textwidth}|}
      \hline
      \rowcolor{puzzleblue}{\color{white} \textbf{Kriterium}} & \color{white}\textbf{Beschreibung} & \color{white}\textbf{1 Punkt} & \color{white}\textbf{10 Punkte} \\[2pt]
      \hline
      Zeitaufwand & Wie viel Zeit wird für die Implementation benötigt? 
      & Grosser Zeitaufwand, IPA ist mit diesem Konzept nicht umsetzbar. & Kleiner Zeitaufwand, IPA ist problemlos umsetzbar. \\
      \hline
      Einführung & Ist das Konzept einfach in die produktive Umgebung einzuführen? Müssen Migrationen vorgenommen werden?
       & Einführung in produktive Umgebung ist unmöglich. & Einführung in produktive Umgebung ist problemlos möglich.\\
      \hline
      Anforderungen & Kann mit dieser Variante jede Anforderung erfüllt werden?
      & Mehrere Anforderung können nicht erfüllt werden. & Alle Anforderunge können erfüllt werden. \\
      \hline
      Performanz & Ist das Konzept performant? Spart das Konzept Zeit / Requests? 
      & Konzept ist nicht performant, Filterungen sind durch Implementation deutlich langsamer.
      & Es wird viel Zeit durch die Implementation des Konzepts gespart.\\
      \hline
   \end{tabular}
   \caption{Variantenentscheid Kriterien}
\end{table}

\newpage

\textbf{Bewertungen}

Im folgenden Abschnitt werden den definierten Kriterien Gewichtungen hinzugefüht, da nicht jedes Kriterium gleich wichtig für
diese IPA ist.

\textbf{Gewichtungen in \%}

\begin{itemize}
   \item \textbf{Zeitaufwand 40\%:} Um eine funktionelle Lösung am Ende der IPA aufweisen zu können, wird dem Zeitaufwand eine hohe Gewichtung zugerodnet.
   \item \textbf{Einführung 20\%:} Es ist wichtig eine Lösung zu implementieren welche schnell ihren Weg in die produktive Umgebung finden, da die Einführung von der IPA ausgenommen ist, wird diesem Kriterium eine geringere Gewichtung zugeordnet.
   \item \textbf{Anforderungen 30\%:} Damit die definierten Anforderungen an das Produkt erfüllt werden können und die Erfüllung zur Endnote der IPA beiträgt, wird diesem Kriterium eine hohe Gewichtung zugeordnet. 
   \item \textbf{Performanz 10\%: } Ist eine Applikation zu langsam und benötigt mehrere Minute bis sie Resultate geladen hat, kann das den Benutzer schnell vor den Kopf stossen und dafür führen das dieser die Applikation in Zukunft nicht mehr verwendet.
\end{itemize}

\textbf{Lösungsvariante 1}

\begin{table}[h!]
   \begin{tabular}{|L{0.2\textwidth}|L{0.2\textwidth}|L{0.6\textwidth}|}
      \hline
      \rowcolor{puzzleblue}{\color{white} \textbf{Kriterium}} & \color{white}\textbf{Bewertung} & \color{white}\textbf{Beschreibung}\\[2pt]
      \hline
      Zeitaufwand & 5 & Mittlerer Zeitaufwand. Durch die vielen Neuimplementationen der Turbostreams geht viel Zeit verloren. \\
      \hline
      Einführung & 8 & Einführung möglich, es werden keine grossen Schwierigkeiten auftreten. \\
      \hline 
      Anforderungen & 10 & Alle Anforderung können potentiell durch diese Lösungsvariante erfüllt werden. \\
      \hline
      Performance & 8 & Performanz wird optimiert. \\
      \hline
   \end{tabular}
   \caption{Bewertung Lösungsvariante 1}
\end{table}

\newpage

\textbf{Lösungsvariante 2}

\begin{table}[h!]
   \begin{tabular}{|L{0.2\textwidth}|L{0.2\textwidth}|L{0.6\textwidth}|}
      \hline
      \rowcolor{puzzleblue}{\color{white} \textbf{Kriterium}} & \color{white}\textbf{Bewertung} & \color{white}\textbf{Beschreibung}\\[2pt]
      \hline
      Zeitaufwand & 6 & Durch weniger Neuimplementationen kann viel Zeit gespart werden. \\
      \hline
      Einführung & 6 & Einführung möglich, könnte aufgrund des Einsetzens von Turboframes in den bereits bestehenden Partials Probleme ergeben. \\
      \hline 
      Anforderungen & 10 & Alle Anforderung können potentiell durch diese Lösungsvariante erfüllt werden. \\
      \hline
      Performance & 7 & Performanz wird optimiert, jedoch weniger als es mit den Turbostreams möglich ist. \\
      \hline
   \end{tabular}
   \caption{Bewertung Lösungsvariante 2}
\end{table}

\newpage
\storeareas\bruteforceanalysis
\KOMAoptions{paper=a4, paper=landscape, DIV=current}
\areaset
  {\dimexpr\the\paperwidth-3cm\relax}
  {\dimexpr\the\paperheight-7.5cm\relax}
\recalctypearea

\begin{table}[H]
  \begin{tabular}{|L{0.12\textwidth}|L{0.12\textwidth}|L{0.15\textwidth}|L{0.15\textwidth}|L{0.15\textwidth}|L{0.15\textwidth}|}
        \hline
        \rowcolor{puzzleblue} \multicolumn{2}{|l|}{} & \multicolumn{2}{|l|}{\color{white}Lösungsvariante 1: Turbostreams} & \multicolumn{2}{|l|}{\color{white}Lösungsvariante 2: Turboframes} \\ [10pt]
        \hline
        \multirow{2}{*}{Kriterium} & \multirow{2}{*}{Gewichtung} & \multirow{2}{*}{Ungewichtet} & \multirow{2}{*}{Gewichtet} & \multirow{2}{*}{Ungewichtet} & \multirow{2}{*}{Gewichtet} \\ [10pt]
        \hline
        \multirow{2}{*}{Zeitaufwand} & \multirow{2}{*}{40\%} & \multirow{2}{*}{5} & \multirow{2}{*}{2} & \multirow{2}{*}{6} & \multirow{2}{*}{2.4} \\ [10pt]
        \hline
        \multirow{2}{*}{Einführung} & \multirow{2}{*}{20\%} & \multirow{2}{*}{8} & \multirow{2}{*}{1.6} & \multirow{2}{*}{6} & \multirow{2}{*}{1.2} \\ [10pt]
        \hline
        \multirow{2}{*}{Anforderungen} & \multirow{2}{*}{30\%} & \multirow{2}{*}{10} & \multirow{2}{*}{3} & \multirow{2}{*}{10} & \multirow{2}{*}{3} \\ [10pt]
        \hline
        \multirow{2}{*}{Performanz} & \multirow{2}{*}{10\%} & \multirow{2}{*}{8} & \multirow{2}{*}{0.8} & \multirow{2}{*}{7} & \multirow{2}{*}{0.7} \\ [10pt]
        \hline
        \multirow{2}{*}{Total} & \multirow{2}{*}{100\%} & \multirow{2}{*}{31} & \multirow{2}{*}{7.4} & \multirow{2}{*}{29} & \multirow{2}{*}{7.3} \\ [10pt]
        \hline
    \end{tabular}
    \caption{Nutzwertanalyse}
\end{table}

\textbf{Fazit}
Durch die bessere Möglichkeit zur Einführung und der erhöhten Performanz hat die Lösungsvariante 1 die Lösungsvariante 2 in der Endbewertung knapp übertroffen.
Für die Implementation wird fortlaufend die Lösungsvariante 2 verwendet.

\restoregeometry
\bruteforceanalysis
\newpage

\section{Sicherheitskonzept}
\subsection{SQL-Injection}
\subsection{Cross-Site Scripting}
\subsection{URL Interpretation}
\subsection{Kommunikation HTTP/S}

\section{Fehlerbehandlungskonzept}
\subsection{Nutzereingabe}
\subsection{Laufzeitfehler}

\section{Testsetup}

\section{Testkonzept}
\subsection{Testinfrastruktur}
\subsection{Fehlerklassen}
\subsection{Manuelle Tests}

\chapter{Ausführung}
\section{Einsatz von KI-Modellen}
\section{Gems}
\subsection{can-can-can}
\subsection{dry-crud}

\chapter{Einführung}
\section{Instruktion}

\section{Unvorhergesehene Änderungen}
\subsection{application.rb}
\subsection{\_list.html.haml}

\chapter{Sprintabschlüsse}

\section{Abschluss Sprint Initialisierung}
\subsection{Backlog}

\section{Abschluss Sprint Umsetzung}
\subsection{Backlog}

\section{Abschluss Sprint Finalisierung}
\subsection{Backlog}


